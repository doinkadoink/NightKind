<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NightKind Collective - Alt Fashion for Bat Conservation</title>
    <meta name="description" content="Alternative fashion supporting bat conservation through partnership with Bats QLD wildlife rescue" />
    <meta name="author" content="NightKind Collective" />

    <meta property="og:title" content="NightKind Collective - Alt Fashion for Bat Conservation" />
    <meta property="og:description" content="Gothic and punk fashion with purpose. Supporting Queensland bat rescue through authentic subcultural style." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="preview.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@nightkindcollective" />
    <meta name="twitter:image" content="preview.png" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="bat vector tracing1.svg">
    <link rel="icon" type="image/png" href="bat vector tracing1.svg">
    
    <!-- Gothic/Alternative Fonts -->
    <link rel="stylesheet" href="fonts.css">
    <script type="module" crossorigin src="index-B11PqZaG.js"></script>
    <link rel="stylesheet" crossorigin href="index-CZEDu5tD.css">
    
    <style>
      /* Logo Animation Styles */
      @keyframes logoFloat {
        0%, 100% {
          transform: translateY(0px) rotate(0deg);
        }
        50% {
          transform: translateY(-10px) rotate(2deg);
        }
      }
      
      /* Fix floating header - make it stick to top when scrolling */
      header, nav, [class*="header"], [class*="nav"] {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        z-index: 1000 !important;
        background: hsl(0, 0%, 8%) !important;
        backdrop-filter: blur(10px) !important;
        border-bottom: 1px solid hsl(0, 0%, 14.9%) !important;
        box-shadow: 0 4px 20px hsla(0, 0%, 0%, 0.3) !important;
      }
      
      /* Ensure the header has proper background and styling */
      .border-b.border-border.bg-background\/95,
      nav.border-b.border-border.bg-background\/95 {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        z-index: 1000 !important;
        background: hsla(0, 0%, 8%, 0.95) !important;
        backdrop-filter: blur(10px) !important;
        border-bottom: 1px solid hsl(0, 0%, 14.9%) !important;
        box-shadow: 0 4px 20px hsla(0, 0%, 0%, 0.3) !important;
      }
      
      /* Add top padding to body to account for fixed header */
      body {
        padding-top: 80px !important;
      }
      
      /* Ensure main content doesn't overlap with fixed header */
      main, .main, [class*="main"], #root > *:first-child {
        margin-top: 80px !important;
      }
      
      /* Adjust overlay height to accommodate the logo */
      .absolute.inset-0.bg-black\/60 {
        height: auto !important;
        top: 0 !important;
      }
      
      /* Adjust the main hero section height */
      .relative.h-screen.flex.items-center.justify-center.bg-cover.bg-center {
        height: auto !important;
        min-height: auto !important;
        padding: 8rem 0 2rem 0 !important;
      }

      /* Mobile Navigation Styles */
      .mobile-nav-toggle {
        display: none;
        flex-direction: column;
        justify-content: space-around;
        width: 30px;
        height: 25px;
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 0;
        z-index: 1001;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
      }

      .mobile-nav-toggle span {
        width: 100%;
        height: 3px;
        background: hsl(60, 100%, 65%);
        border-radius: 2px;
        transition: all 0.3s ease;
        transform-origin: center;
      }

      .mobile-nav-toggle.active span:nth-child(1) {
        transform: rotate(45deg) translate(6px, 6px);
      }

      .mobile-nav-toggle.active span:nth-child(2) {
        opacity: 0;
      }

      .mobile-nav-toggle.active span:nth-child(3) {
        transform: rotate(-45deg) translate(6px, -6px);
      }

      .mobile-nav-menu {
        display: none !important;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        background: linear-gradient(135deg, hsl(0, 0%, 8%), hsl(0, 0%, 12%)) !important;
        z-index: 10000 !important;
        padding: 6rem 2rem 2rem !important;
        overflow-y: auto !important;
        width: 100vw !important;
        height: 100vh !important;
      }

      .mobile-nav-menu.active {
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        animation: slideIn 0.3s ease-out;
        z-index: 10000 !important;
        visibility: visible !important;
        opacity: 1 !important;
      }

      .mobile-nav-menu .nav-links {
        display: flex !important;
        flex-direction: column !important;
        gap: 2rem !important;
        align-items: center !important;
        justify-content: center !important;
        height: 100% !important;
        width: 100% !important;
        max-width: 400px !important;
        margin: 0 auto !important;
        padding: 2rem !important;
        position: relative !important;
        z-index: 10001 !important;
      }

      .mobile-nav-menu .nav-link {
        color: hsl(60, 100%, 85%) !important;
        text-decoration: none !important;
        font-family: 'Courier Prime', monospace !important;
        font-size: 1.5rem !important;
        text-transform: uppercase !important;
        letter-spacing: 0.1em !important;
        transition: all 0.3s ease !important;
        padding: 1.5rem 3rem !important;
        border: 2px solid transparent !important;
        border-radius: 12px !important;
        position: relative !important;
        overflow: hidden !important;
        background: hsla(0, 0%, 8%, 0.4) !important;
        backdrop-filter: blur(10px) !important;
        min-width: 250px !important;
        max-width: 300px !important;
        width: 100% !important;
        text-align: center !important;
        font-weight: 500 !important;
        box-shadow: 0 4px 20px hsla(0, 0%, 0%, 0.3) !important;
        margin: 0.5rem 0 !important;
        display: block !important;
        flex-shrink: 0 !important;
        flex-grow: 0 !important;
        order: unset !important;
      }

      .mobile-nav-menu .nav-link::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, 
          transparent, 
          hsla(60, 100%, 65%, 0.3), 
          transparent
        );
        transition: left 0.8s ease;
        z-index: -1;
      }

      .mobile-nav-menu .nav-link::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, 
          hsla(60, 100%, 65%, 0.05), 
          transparent 30%, 
          transparent 70%, 
          hsla(60, 100%, 65%, 0.05)
        );
        opacity: 0;
        transition: opacity 0.3s ease;
        border-radius: 10px;
      }

      .mobile-nav-menu .nav-link:hover::before {
        left: 100%;
      }

      .mobile-nav-menu .nav-link:hover::after {
        opacity: 1;
      }

      .mobile-nav-menu .nav-link:hover {
        color: hsl(0, 0%, 98%);
        border-color: hsl(60, 100%, 65%);
        transform: translateY(-3px);
        box-shadow: 
          0 12px 40px hsla(60, 100%, 65%, 0.2),
          0 0 0 1px hsla(60, 100%, 65%, 0.1),
          inset 0 0 20px hsla(60, 100%, 65%, 0.05);
        background: hsla(0, 0%, 8%, 0.6);
      }

      .mobile-nav-menu .nav-link.active {
        color: hsl(60, 100%, 65%);
        border-color: hsl(60, 100%, 65%);
        background: hsla(60, 100%, 65%, 0.1);
        box-shadow: 
          0 8px 25px hsla(60, 100%, 65%, 0.15),
          inset 0 0 20px hsla(60, 100%, 65%, 0.05);
      }

      .mobile-nav-menu .cart-link {
        background: hsla(60, 100%, 65%, 0.1);
        border-color: hsl(60, 100%, 65%);
        color: hsl(60, 100%, 65%);
      }

      .mobile-nav-menu .cart-link:hover {
        background: hsla(60, 100%, 65%, 0.2);
        transform: translateY(-3px);
        box-shadow: 
          0 12px 40px hsla(60, 100%, 65%, 0.3),
          0 0 0 1px hsla(60, 100%, 65%, 0.2);
      }

      .mobile-nav-menu .close-btn {
        position: fixed !important;
        top: 2rem !important;
        right: 2rem !important;
        background: hsla(0, 0%, 8%, 0.9) !important;
        border: 2px solid hsl(60, 100%, 65%) !important;
        color: hsl(60, 100%, 65%) !important;
        font-size: 2rem !important;
        font-weight: bold !important;
        cursor: pointer !important;
        padding: 0.75rem !important;
        border-radius: 50% !important;
        transition: all 0.3s ease !important;
        width: 50px !important;
        height: 50px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        backdrop-filter: blur(10px) !important;
        box-shadow: 0 4px 20px hsla(0, 0%, 0%, 0.5) !important;
        user-select: none !important;
        -webkit-user-select: none !important;
        -moz-user-select: none !important;
        -ms-user-select: none !important;
        z-index: 10005 !important;
        visibility: visible !important;
        opacity: 1 !important;
        pointer-events: auto !important;
      }

      .mobile-nav-menu .close-btn:hover {
        background: hsla(60, 100%, 65%, 0.2) !important;
        border-color: hsl(60, 100%, 75%) !important;
        color: hsl(60, 100%, 75%) !important;
        transform: scale(1.1) !important;
        box-shadow: 0 8px 30px hsla(60, 100%, 65%, 0.3) !important;
      }

      .mobile-nav-menu .close-btn:active {
        transform: scale(0.95) !important;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Hide mobile nav on larger screens */
      @media (min-width: 768px) {
        .mobile-nav-toggle {
          display: none !important;
        }
        
        .mobile-nav-menu {
          display: none !important;
        }
      }

      /* Show mobile nav on smaller screens */
      @media (max-width: 767px) {
        .mobile-nav-toggle {
          display: flex !important;
        }
      }

      /* CRITICAL: Force hide mobile nav on desktop regardless of other CSS */
      .mobile-nav-toggle {
        display: none;
      }

      .mobile-nav-menu {
        display: none;
      }

      /* Only show mobile nav when screen is actually small */
      @media (max-width: 767px) {
        .mobile-nav-toggle {
          display: flex !important;
        }
      }

      /* Force hide on larger screens */
      @media (min-width: 768px) {
        .mobile-nav-toggle,
        .mobile-nav-menu {
          display: none !important;
        }
      }

      /* Ensure the mobile nav is above other elements */
      .mobile-nav-menu {
        z-index: 9999;
      }

      /* Responsive behavior for existing navigation */
      .mobile-friendly {
        position: relative;
      }

      .mobile-friendly .flex.items-center.justify-between {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: space-between;
        width: 100%;
      }

      /* Hide existing navigation items on mobile */
      @media (max-width: 767px) {
        /* Hide ALL navigation links in the header on mobile */
        .mobile-friendly a[href*="shop"],
        .mobile-friendly a[href*="about"],
        .mobile-friendly a[href*="contact"],
        .mobile-friendly a[href*="cart"],
        .mobile-friendly a[href*="login"],
        .mobile-friendly a[href*="register"],
        .mobile-friendly a[href*="account"] {
          display: none !important;
        }
        
        /* SIMPLE: Just hide navigation links and center the toggle */
        .mobile-friendly .flex.items-center.justify-between {
          position: relative !important;
          min-height: 60px !important;
        }
        
        /* Center the mobile toggle in the header */
        .mobile-nav-toggle {
          position: absolute !important;
          left: 50% !important;
          top: 50% !important;
          transform: translate(-50%, -50%) !important;
          margin: 0 !important;
          z-index: 1002 !important;
        }

        /* Keep existing layout, just hide the middle nav */
        .mobile-friendly .flex.items-center.justify-between > *:first-child {
          position: relative !important;
          z-index: 1001 !important;
          margin-right: auto !important;
          display: flex !important;
          align-items: center !important;
          gap: 1rem !important;
        }

        .mobile-friendly .flex.items-center.justify-between > *:last-child {
          position: relative !important;
          z-index: 1001 !important;
          margin-left: auto !important;
          display: flex !important;
          align-items: center !important;
          gap: 1rem !important;
        }

        /* Ensure proper spacing between left and right elements */
        .mobile-friendly .flex.items-center.justify-between {
          gap: 2rem !important;
          padding: 0 1rem !important;
        }
      }

      /* Show existing navigation items on larger screens */
      @media (min-width: 768px) {
        .mobile-friendly a[href*="shop"],
        .mobile-friendly a[href*="about"],
        .mobile-friendly a[href*="contact"],
        .mobile-friendly a[href*="cart"],
        .mobile-friendly a[href*="login"],
        .mobile-friendly a[href*="register"],
        .mobile-friendly a[href*="account"] {
          display: inline-block !important;
        }
        
        .mobile-friendly .flex.items-center.justify-between {
          justify-content: space-between !important;
          gap: 2rem !important;
        }

        /* Ensure proper header layout on desktop */
        .mobile-friendly .flex.items-center.justify-between > *:first-child {
          margin-right: auto !important;
        }

        .mobile-friendly .flex.items-center.justify-between > *:last-child {
          margin-left: auto !important;
        }
      }

      /* Mobile navigation overlay improvements */
      .mobile-nav-menu::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, 
          hsla(0, 0%, 8%, 0.95), 
          hsla(0, 0%, 12%, 0.95)
        );
        backdrop-filter: blur(10px);
        z-index: -1;
      }

      /* Mobile navigation link animations */
      .mobile-nav-menu .nav-link {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.5s ease forwards;
      }

      .mobile-nav-menu .nav-link:nth-child(1) { animation-delay: 0.1s; }
      .mobile-nav-menu .nav-link:nth-child(2) { animation-delay: 0.2s; }
      .mobile-nav-menu .nav-link:nth-child(3) { animation-delay: 0.3s; }
      .mobile-nav-menu .nav-link:nth-child(4) { animation-delay: 0.4s; }

      @keyframes fadeInUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Mobile navigation toggle improvements */
      .mobile-nav-toggle:hover span {
        background: hsl(60, 100%, 75%);
        box-shadow: 0 0 10px hsla(60, 100%, 65%, 0.5);
      }

      .mobile-nav-toggle.active:hover span {
        background: hsl(60, 100%, 75%);
      }

      /* Enhanced mobile user navigation styling - now integrated into main nav */
      .mobile-nav-menu .nav-link[href*="account"],
      .mobile-nav-menu .nav-link[href*="login"] {
        background: hsla(60, 100%, 65%, 0.1) !important;
        border: 2px solid hsl(60, 100%, 65%) !important;
        color: hsl(60, 100%, 65%) !important;
        font-size: 1.2rem !important;
        padding: 1.5rem 3rem !important;
        min-width: 250px !important;
        max-width: 300px !important;
        width: 100% !important;
        font-weight: 600 !important;
        text-shadow: 0 0 10px hsla(60, 100%, 65%, 0.5) !important;
        border-radius: 12px !important;
        backdrop-filter: blur(10px) !important;
        box-shadow: 
          0 4px 20px hsla(0, 0%, 0%, 0.3),
          inset 0 0 20px hsla(60, 100%, 65%, 0.05) !important;
        display: block !important;
        margin: 0.5rem 0 !important;
        position: relative !important;
        z-index: 10004 !important;
        flex-shrink: 0 !important;
        flex-grow: 0 !important;
        order: 999 !important;
        text-align: center !important;
        text-decoration: none !important;
        font-family: 'Courier Prime', monospace !important;
        text-transform: uppercase !important;
        letter-spacing: 0.1em !important;
        transition: all 0.3s ease !important;
      }

      .mobile-nav-menu .nav-link[href*="account"]:hover,
      .mobile-nav-menu .nav-link[href*="login"]:hover {
        background: hsla(60, 100%, 65%, 0.15) !important;
        box-shadow: 
          0 12px 40px hsla(60, 100%, 65%, 0.25),
          0 0 0 1px hsla(60, 100%, 65%, 0.2),
          inset 0 0 20px hsla(60, 100%, 65%, 0.1) !important;
        transform: translateY(-3px) !important;
        border-color: hsl(60, 100%, 75%) !important;
      }

      /* Mobile navigation background improvements */
      .mobile-nav-menu::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, 
          hsla(0, 0%, 8%, 0.95), 
          hsla(0, 0%, 12%, 0.95)
        );
        backdrop-filter: blur(10px);
        z-index: -1;
      }

      /* Additional mobile navigation refinements */
      .mobile-nav-menu .nav-link:active {
        transform: translateY(-1px);
        transition: transform 0.1s ease;
      }

      .mobile-nav-menu .nav-link:focus {
        outline: none;
        box-shadow: 
          0 0 0 2px hsla(60, 100%, 65%, 0.5),
          0 8px 25px hsla(60, 100%, 65%, 0.2);
      }

      /* Force hide any overlapping elements when mobile menu is open */
      .mobile-nav-menu.active ~ *,
      .mobile-nav-menu.active + * {
        z-index: 1 !important;
      }

      /* Ensure mobile menu is always on top */
      .mobile-nav-menu.active {
        z-index: 10000 !important;
      }

      /* CRITICAL: Override any conflicting CSS for mobile navigation */
      .mobile-nav-menu,
      .mobile-nav-menu *,
      .mobile-nav-menu .nav-links,
      .mobile-nav-menu .nav-link {
        box-sizing: border-box !important;
        margin: 0 !important;
        padding: 0 !important;
      }

      /* CRITICAL: Force mobile menu to be visible when active */
      .mobile-nav-menu.active,
      .mobile-nav-menu.active * {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
      }

      .mobile-nav-menu.active .nav-links {
        display: flex !important;
        flex-direction: column !important;
        gap: 2rem !important;
        align-items: center !important;
        justify-content: center !important;
      }

      .mobile-nav-menu.active .nav-link {
        display: block !important;
        margin: 0.5rem 0 !important;
        position: relative !important;
        z-index: 10002 !important;
      }

      /* Prevent any stacking issues */
      .mobile-nav-menu .nav-link + .nav-link {
        margin-top: 2rem !important;
      }





      /* Simple mobile toggle positioning */
      .mobile-nav-toggle {
        pointer-events: auto !important;
        touch-action: manipulation !important;
      }

      /* Style the ACCOUNT button specifically */
      .mobile-friendly a[href*="account"],
      .mobile-friendly a[href*="login"] {
        display: inline-flex !important;
        align-items: center !important;
        gap: 0.5rem !important;
        padding: 0.5rem 1rem !important;
        border: 1px solid hsl(60, 100%, 65%) !important;
        border-radius: 4px !important;
        color: hsl(60, 100%, 65%) !important;
        text-decoration: none !important;
        font-family: 'Courier Prime', monospace !important;
        font-size: 0.875rem !important;
        text-transform: uppercase !important;
        letter-spacing: 0.1em !important;
        transition: all 0.3s ease !important;
        background: transparent !important;
        white-space: nowrap !important;
      }

      .mobile-friendly a[href*="account"]:hover,
      .mobile-friendly a[href*="login"]:hover {
        background: hsl(60, 100%, 65%) !important;
        color: hsl(0, 0%, 8%) !important;
        transform: translateY(-1px) !important;
        box-shadow: 0 4px 8px hsla(60, 100%, 65%, 0.3) !important;
      }

      .mobile-nav-menu .nav-links {
        padding: 2rem !important;
      }

      .mobile-nav-menu .nav-link {
        padding: 1.5rem 3rem !important;
        margin: 0.5rem 0 !important;
      }

      /* Prevent any flexbox conflicts */
      .mobile-nav-menu .nav-links {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 2rem !important;
      }

      /* Prevent body scroll when mobile menu is open */
      body.mobile-menu-open {
        overflow: hidden !important;
        position: fixed !important;
        width: 100% !important;
      }
    </style>
  </head>

  <body>
    <div id="root"></div>
    
    <script>
      // Handle 404 errors when opening locally
      window.addEventListener('error', function(e) {
        if (e.target.tagName === 'SCRIPT' || e.target.tagName === 'LINK') {
          console.warn('Resource failed to load:', e.target.src || e.target.href);
        }
      });

      // Fallback for local development
      if (window.location.protocol === 'file:') {
        console.log('Running locally - some features may be limited');
        // Add a banner to inform users
        const banner = document.createElement('div');
        banner.style.cssText = `
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          background: linear-gradient(90deg, #ff6b6b, #ff8e53);
          color: white;
          padding: 10px;
          text-align: center;
          font-family: 'Courier Prime', monospace;
          font-size: 14px;
          z-index: 10000;
          box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        `;
        banner.innerHTML = '⚠️ Running locally - Use <strong>start-server.bat</strong> for full functionality';
        document.body.appendChild(banner);
      }

      // COMPLETELY REWRITTEN: Mobile Navigation Functionality
      function createMobileNavigation() {
        // Check if mobile nav already exists
        if (document.querySelector('.mobile-nav-toggle')) {
          return;
        }

        // Create mobile nav toggle button
        const mobileNavToggle = document.createElement('button');
        mobileNavToggle.className = 'mobile-nav-toggle';
        mobileNavToggle.setAttribute('aria-label', 'Toggle mobile navigation');
        mobileNavToggle.innerHTML = `
          <span></span>
          <span></span>
          <span></span>
        `;

        // Create mobile navigation menu
        const mobileNavMenu = document.createElement('div');
        mobileNavMenu.className = 'mobile-nav-menu';
        mobileNavMenu.innerHTML = `
          <button class="close-btn" aria-label="Close mobile navigation">×</button>
          <div class="nav-links">
            <a href="index.html" class="nav-link active">Home</a>
            <a href="shop-categories.html" class="nav-link">Shop</a>
            <a href="about.html" class="nav-link">About</a>
            <a href="contact.html" class="nav-link">Contact</a>
            <a href="cart.html" class="nav-link cart-link">🛒 Cart</a>
          </div>
        `;

        // Add mobile nav menu to body
        document.body.appendChild(mobileNavMenu);

        // NEW APPROACH: Find the actual header and integrate properly
        function integrateMobileNav() {
          // Look for the actual header that contains the navigation
          const header = document.querySelector('header, nav, [class*="header"], [class*="nav"]');
          if (!header) return;

          // Find the navigation container within the header
          const navContainer = header.querySelector('.flex.items-center.justify-between, .container, [class*="flex"]');
          if (!navContainer) return;

          // Add mobile-friendly class to the header
          header.classList.add('mobile-friendly');
          
          // Position the mobile toggle in the center of the header
          header.style.position = 'relative';
          header.style.minHeight = '60px';
          
          // Remove toggle from body if it's there
          if (document.body.contains(mobileNavToggle)) {
            document.body.removeChild(mobileNavToggle);
          }
          
          // Add toggle to header
          header.appendChild(mobileNavToggle);
          
          // Force proper positioning
          mobileNavToggle.style.cssText = `
            position: absolute !important;
            left: 50% !important;
            top: 50% !important;
            transform: translate(-50%, -50%) !important;
            z-index: 1002 !important;
            display: none !important;
          `;
          
          console.log('Mobile navigation integrated into header');
          
          // CRITICAL: Add event listeners for mobile navigation
          mobileNavToggle.addEventListener('click', toggleMobileNav);
          
          // Add close button functionality
          const closeBtn = mobileNavMenu.querySelector('.close-btn');
          if (closeBtn) {
            closeBtn.addEventListener('click', closeMobileNav);
          }
          
          // Close mobile nav when clicking on a link
          mobileNavMenu.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', closeMobileNav);
          });
          
          // Close mobile nav when clicking outside
          mobileNavMenu.addEventListener('click', (e) => {
            if (e.target === mobileNavMenu) {
              closeMobileNav();
            }
          });
          
          // Close mobile nav on escape key
          document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && mobileNavMenu.classList.contains('active')) {
              closeMobileNav();
            }
          });

          // Close mobile nav on window resize if screen becomes large
          window.addEventListener('resize', () => {
            if (window.innerWidth >= 768 && mobileNavMenu.classList.contains('active')) {
              closeMobileNav();
            }
          });
          
          console.log('Mobile navigation integrated into header with event listeners');
        }

        // Try to integrate mobile nav multiple times
        setTimeout(integrateMobileNav, 100);
        setTimeout(integrateMobileNav, 500);
        setTimeout(integrateMobileNav, 1000);
        setTimeout(integrateMobileNav, 2000);

        // Toggle mobile navigation
        function toggleMobileNav() {
          const isOpen = mobileNavMenu.classList.contains('active');
          console.log('Toggle called, current state:', isOpen);
          console.log('Mobile menu element:', mobileNavMenu);
          console.log('Mobile menu classes:', mobileNavMenu.className);
          
          if (isOpen) {
            mobileNavMenu.classList.remove('active');
            mobileNavToggle.classList.remove('active');
            document.body.classList.remove('mobile-menu-open');
            console.log('Mobile menu closed');
          } else {
            mobileNavMenu.classList.add('active');
            mobileNavToggle.classList.add('active');
            document.body.classList.add('mobile-menu-open');
            console.log('Mobile menu opened');
            
            // Force the menu to be visible with multiple approaches
            mobileNavMenu.style.display = 'block';
            mobileNavMenu.style.zIndex = '10000';
            mobileNavMenu.style.visibility = 'visible';
            mobileNavMenu.style.opacity = '1';
            mobileNavMenu.style.position = 'fixed';
            mobileNavMenu.style.top = '0';
            mobileNavMenu.style.left = '0';
            mobileNavMenu.style.right = '0';
            mobileNavMenu.style.bottom = '0';
            mobileNavMenu.style.width = '100vw';
            mobileNavMenu.style.height = '100vh';
            
            // Force proper layout for nav-links
            const navLinks = mobileNavMenu.querySelector('.nav-links');
            if (navLinks) {
              navLinks.style.display = 'flex';
              navLinks.style.flexDirection = 'column';
              navLinks.style.gap = '2rem';
              navLinks.style.alignItems = 'center';
              navLinks.style.justifyContent = 'center';
              navLinks.style.height = '100%';
              navLinks.style.width = '100%';
              navLinks.style.maxWidth = '400px';
              navLinks.style.margin = '0 auto';
              navLinks.style.padding = '2rem';
            }
            
            // Force proper layout for individual nav-links
            const navLinkElements = mobileNavMenu.querySelectorAll('.nav-link');
            navLinkElements.forEach((link, index) => {
              link.style.display = 'block';
              link.style.margin = '0.5rem 0';
              link.style.position = 'relative';
              link.style.zIndex = '10002';
              link.style.order = index;
            });
            
            console.log('Mobile menu styles applied:', {
              display: mobileNavMenu.style.display,
              zIndex: mobileNavMenu.style.zIndex,
              visibility: mobileNavMenu.style.visibility,
              opacity: mobileNavMenu.style.opacity
            });
          }
        }

        // Close mobile navigation
        function closeMobileNav() {
          mobileNavMenu.classList.remove('active');
          mobileNavToggle.classList.remove('active');
          document.body.classList.remove('mobile-menu-open');
        }

        // Event listeners - these will be added in integrateMobileNav to avoid duplicates



        console.log('Mobile navigation created successfully');
      }

      // Create mobile navigation when page loads
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', createMobileNavigation);
      } else {
        createMobileNavigation();
      }

      // Try multiple times to ensure it loads after React renders
      setTimeout(createMobileNavigation, 1000);
      setTimeout(createMobileNavigation, 2000);
      setTimeout(createMobileNavigation, 3000);
      setTimeout(createMobileNavigation, 5000);
      
      // Also try when the window loads completely
      window.addEventListener('load', createMobileNavigation);

      // Enhance existing React navigation for mobile
      function enhanceReactNavigation() {
        const reactNav = document.querySelector('nav.border-b.border-border.bg-background\\/95');
        if (reactNav && !reactNav.hasAttribute('data-mobile-enhanced')) {
          reactNav.setAttribute('data-mobile-enhanced', 'true');
          
          // Add mobile-friendly classes
          reactNav.classList.add('mobile-friendly');
          
          // Force hide navigation links on mobile immediately
          if (window.innerWidth <= 767) {
            const navLinks = reactNav.querySelectorAll('a[href*="shop"], a[href*="about"], a[href*="contact"], a[href*="cart"], a[href*="login"], a[href*="register"], a[href*="account"]');
            navLinks.forEach(link => {
              link.style.display = 'none';
            });
          }
          
          // Find the navigation container
          const navContainer = reactNav.querySelector('.flex.items-center.justify-between, .container, [class*="flex"]');
          if (navContainer) {
            // Ensure the container is mobile-friendly
            navContainer.style.cssText += `
              flex-wrap: wrap;
              gap: 1rem;
              align-items: center;
            `;

            // Ensure the nav is mobile-friendly but DON'T move the toggle
            reactNav.style.position = 'relative';
            reactNav.style.minHeight = '60px';
            
            // Only add mobile-friendly class, don't reposition toggle
            if (!reactNav.querySelector('.mobile-nav-toggle')) {
              // The toggle should already be positioned by addMobileNavToHeader
              console.log('Mobile toggle should be positioned by addMobileNavToHeader');
            }
            
            // Make navigation items responsive and ensure proper spacing
            const navItems = navContainer.querySelectorAll('a[href]');
            navItems.forEach(item => {
              item.style.cssText += `
                transition: all 0.3s ease;
                white-space: nowrap;
                position: relative;
                z-index: 1001;
              `;
              
              // Add hover effects
              item.addEventListener('mouseenter', () => {
                item.style.color = 'hsl(60, 100%, 65%)';
                item.style.transform = 'translateY(-1px)';
              });
              
              item.addEventListener('mouseleave', () => {
                item.style.color = '';
                item.style.transform = '';
              });
            });

            // Ensure user navigation is properly positioned
            const userNav = navContainer.querySelector('.user-nav');
            if (userNav) {
              userNav.style.cssText += `
                position: relative;
                z-index: 1001;
                margin-left: auto;
              `;
            }
          }
          
          console.log('React navigation enhanced for mobile');
        }
      }

      // Try to enhance React navigation multiple times
      setTimeout(enhanceReactNavigation, 1000);
      setTimeout(enhanceReactNavigation, 2000);
      setTimeout(enhanceReactNavigation, 3000);
      setTimeout(enhanceReactNavigation, 5000);
      window.addEventListener('load', enhanceReactNavigation);

      // CRITICAL: Force fix header layout issues
      function forceFixHeaderLayout() {
        const headers = document.querySelectorAll('header, nav, [class*="header"], [class*="nav"]');
        headers.forEach(header => {
          // Find the navigation container
          const navContainer = header.querySelector('.flex.items-center.justify-between');
          if (navContainer) {
            // Force proper flexbox layout
            navContainer.style.cssText = `
              display: flex !important;
              align-items: center !important;
              justify-content: space-between !important;
              width: 100% !important;
              position: relative !important;
            `;
            
            // Ensure first and last elements are properly positioned
            const firstChild = navContainer.firstElementChild;
            const lastChild = navContainer.lastElementChild;
            
            if (firstChild) {
              firstChild.style.marginRight = 'auto';
            }
            
            if (lastChild) {
              lastChild.style.marginLeft = 'auto';
            }
            
            console.log('Header layout forced to work properly');
          }
        });
      }

      // Run header layout fix multiple times
      setTimeout(forceFixHeaderLayout, 500);
      setTimeout(forceFixHeaderLayout, 1500);
      setTimeout(forceFixHeaderLayout, 3000);
      window.addEventListener('load', forceFixHeaderLayout);

      // DEBUG: Add test function to manually show mobile menu
      window.testMobileMenu = function() {
        const mobileMenu = document.querySelector('.mobile-nav-menu');
        if (mobileMenu) {
          mobileMenu.classList.add('active');
          mobileMenu.style.cssText = `
            display: block !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            z-index: 10000 !important;
            width: 100vw !important;
            height: 100vh !important;
            background: linear-gradient(135deg, hsl(0, 0%, 8%), hsl(0, 0%, 12%)) !important;
            visibility: visible !important;
            opacity: 1 !important;
          `;
          console.log('Mobile menu manually activated for testing');
        } else {
          console.log('Mobile menu element not found');
        }
      };

      // CRITICAL: Ensure mobile navigation works after React renders
      function ensureMobileNavWorks() {
        // Check if mobile nav exists and is working
        const mobileToggle = document.querySelector('.mobile-nav-toggle');
        const mobileMenu = document.querySelector('.mobile-nav-menu');
        
        if (mobileToggle && mobileMenu) {
          // Handle responsive behavior
          function handleResize() {
            if (window.innerWidth <= 767) {
              // Mobile view
              mobileToggle.style.display = 'flex !important';
              mobileToggle.style.cssText = `
                position: absolute !important;
                left: 50% !important;
                top: 50% !important;
                transform: translate(-50%, -50%) !important;
                z-index: 1002 !important;
                display: flex !important;
              `;
            } else {
              // Desktop view
              mobileToggle.style.display = 'none !important';
            }
          }
          
          // Set initial state
          handleResize();
          
          // Listen for resize events
          window.addEventListener('resize', handleResize);
          
          // Force proper menu styling
          mobileMenu.style.cssText = `
            display: none !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            z-index: 10000 !important;
            width: 100vw !important;
            height: 100vh !important;
          `;
          
          // Ensure header positioning
          const header = mobileToggle.closest('header, nav, [class*="header"], [class*="nav"]');
          if (header) {
            header.style.position = 'relative';
            header.style.minHeight = '60px';
          }
          
          console.log('Mobile navigation responsive behavior enabled');
        }
      }

      // Run this multiple times to ensure it works
      setTimeout(ensureMobileNavWorks, 500);
      setTimeout(ensureMobileNavWorks, 1500);
      setTimeout(ensureMobileNavWorks, 3000);
      window.addEventListener('load', ensureMobileNavWorks);

      // Add user navigation to mobile menu
      function addUserNavToMobile() {
        const mobileMenu = document.querySelector('.mobile-nav-menu .nav-links');
        if (mobileMenu && !mobileMenu.querySelector('.nav-link[href*="account"], .nav-link[href*="login"]')) {
          // Check if user is logged in
          const user = localStorage.getItem('nightkindUser');
          
          if (user) {
            // User is logged in - show account link
            const accountLink = document.createElement('a');
            accountLink.href = 'account.html';
            accountLink.textContent = 'ACCOUNT';
            accountLink.className = 'nav-link';
            accountLink.style.cssText = `
              background: hsla(60, 100%, 65%, 0.1) !important;
              border: 2px solid hsl(60, 100%, 65%) !important;
              color: hsl(60, 100%, 65%) !important;
              font-size: 1.2rem !important;
              padding: 1.5rem 3rem !important;
              min-width: 250px !important;
              max-width: 300px !important;
              width: 100% !important;
              text-align: center !important;
              border-radius: 12px !important;
              text-decoration: none !important;
              font-family: 'Courier Prime', monospace !important;
              text-transform: uppercase !important;
              letter-spacing: 0.1em !important;
              transition: all 0.3s ease !important;
              display: block !important;
              margin: 0.5rem 0 !important;
              order: 999 !important;
            `;
            mobileMenu.appendChild(accountLink);
          } else {
            // User is NOT logged in - show login button
            const loginLink = document.createElement('a');
            loginLink.href = 'login.html';
            loginLink.textContent = 'LOGIN';
            loginLink.className = 'nav-link';
            loginLink.style.cssText = `
              background: hsla(270, 35%, 35%, 0.2) !important;
              border: 2px solid hsl(270, 35%, 35%) !important;
              color: hsl(60, 100%, 85%) !important;
              font-size: 1.2rem !important;
              padding: 1.5rem 3rem !important;
              min-width: 250px !important;
              max-width: 300px !important;
              width: 100% !important;
              text-align: center !important;
              border-radius: 12px !important;
              text-decoration: none !important;
              font-family: 'Courier Prime', monospace !important;
              text-transform: uppercase !important;
              letter-spacing: 0.1em !important;
              transition: all 0.3s ease !important;
              display: block !important;
              margin: 0.5rem 0 !important;
              order: 999 !important;
            `;
            mobileMenu.appendChild(loginLink);
          }
        }
      }

      // Try to add user nav to mobile menu multiple times
      setTimeout(addUserNavToMobile, 1000);
      setTimeout(addUserNavToMobile, 2000);
      setTimeout(addUserNavToMobile, 3000);
      setTimeout(addUserNavToMobile, 5000);
      window.addEventListener('load', addUserNavToMobile);

      // Update mobile navigation when login state changes
      function updateMobileNavOnLoginChange() {
        const existingAccountLink = document.querySelector('.mobile-nav-menu .nav-link[href*="account"]');
        const existingLoginLink = document.querySelector('.mobile-nav-menu .nav-link[href*="login"]');
        
        if (existingAccountLink) {
          existingAccountLink.remove();
        }
        if (existingLoginLink) {
          existingLoginLink.remove();
        }
        
        // Re-add with updated state
        setTimeout(addUserNavToMobile, 100);
      }

      // Listen for storage changes (login/logout)
      window.addEventListener('storage', (e) => {
        if (e.key === 'nightkindUser') {
          updateMobileNavOnLoginChange();
        }
      });

      // Also update when localStorage is modified programmatically
      const originalSetItem = localStorage.setItem;
      const originalRemoveItem = localStorage.removeItem;
      
      localStorage.setItem = function(key, value) {
        originalSetItem.apply(this, arguments);
        if (key === 'nightkindUser') {
          setTimeout(updateMobileNavOnLoginChange, 100);
        }
      };
      
      localStorage.removeItem = function(key) {
        originalRemoveItem.apply(this, arguments);
        if (key === 'nightkindUser') {
          setTimeout(updateMobileNavOnLoginChange, 100);
        }
      };

      // Wait for the React app to load and render the content
      function waitForShopCards() {
        // Look for the shop section with category cards
        const shopSection = document.querySelector('.grid.md\\:grid-cols-2.lg\\:grid-cols-4');
        
        if (shopSection) {
          // Find all category cards within the grid
          const categoryCards = shopSection.querySelectorAll('.gothic-card');
          
          // Add click handlers to each card
          categoryCards.forEach((card, index) => {
            card.style.cursor = 'pointer';
            
            // Define the category pages in order
            const categoryPages = [
              'stickers.html',
              'keychains.html', 
              'pins.html',
              'tshirts.html'
            ];
            
            // Add click handler
            card.addEventListener('click', () => {
              if (categoryPages[index]) {
                window.location.href = categoryPages[index];
              }
            });
            
            // Add hover effect to show it's clickable
            card.addEventListener('mouseenter', () => {
              card.style.transform = 'scale(1.05)';
            });
            
            card.addEventListener('mouseleave', () => {
              card.style.transform = 'scale(1)';
            });
          });
          
          console.log(`Found ${categoryCards.length} category cards and made them clickable`);
        } else {
          // If not found yet, try again in a moment
          setTimeout(waitForShopCards, 100);
        }
      }
      
      // Start checking for the shop cards once the page loads
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', waitForShopCards);
      } else {
        waitForShopCards();
      }
      
      // Also check after a delay to ensure React has rendered
      setTimeout(waitForShopCards, 1000);

      // Add logo to the main page
      function addLogoToMainPage() {
        console.log('Attempting to add logo...');
        
        // Try multiple selectors to find the right place
        const selectors = [
          'header', '.header', '[class*="header"]',
          'main', '.main', '[class*="main"]',
          '.hero', '[class*="hero"]',
          '.container', '[class*="container"]',
          '.content', '[class*="content"]',
          '.app', '[class*="app"]',
          '#root > div:first-child',
          '#root > *:first-child'
        ];
        
        let targetElement = null;
        
        for (let selector of selectors) {
          const element = document.querySelector(selector);
          if (element) {
            console.log('Found target element:', selector);
            targetElement = element;
            break;
          }
        }
        
        // If still no target, try the root div
        if (!targetElement) {
          targetElement = document.getElementById('root');
          console.log('Using root element as target');
        }
        
        if (targetElement) {
          // Check if logo already exists
          if (document.querySelector('.nightkind-logo')) {
            console.log('Logo already exists, skipping...');
            return;
          }
          
          // Create logo container
          const logoContainer = document.createElement('div');
          logoContainer.className = 'nightkind-logo';
              logoContainer.style.cssText = `
                display: flex;
                justify-content: center;
                align-items: center;
                margin: 0;
                padding: 0;
                position: absolute;
                top: 80px;
                left: 50%;
                transform: translateX(-50%);
                z-index: 1000;
                width: 200px;
                height: auto;
              `;
          
          // Create logo image
          const logo = document.createElement('img');
          logo.src = 'bat vector tracing1.svg';
          logo.alt = 'NightKind Collective Logo';
              logo.style.cssText = `
                width: 150px;
                height: auto;
                filter: drop-shadow(0 0 20px hsla(270, 100%, 70%, 0.8));
                transition: all 0.4s ease;
                cursor: pointer;
                display: block;
                animation: logoFloat 4s ease-in-out infinite;
              `;
          
          // Add hover effects
          logo.addEventListener('mouseenter', () => {
            logo.style.filter = 'drop-shadow(0 0 30px hsla(270, 100%, 70%, 1))';
            logo.style.transform = 'scale(1.1) rotate(5deg)';
          });
          
          logo.addEventListener('mouseleave', () => {
            logo.style.filter = 'drop-shadow(0 0 20px hsla(270, 100%, 70%, 0.8))';
            logo.style.transform = 'scale(1) rotate(0deg)';
          });
          
          // Add click to go to shop
          logo.addEventListener('click', () => {
            window.location.href = 'shop-categories.html';
          });
          
          logoContainer.appendChild(logo);
          
          // Try to insert at the very beginning of the target
          if (targetElement.firstChild) {
            targetElement.insertBefore(logoContainer, targetElement.firstChild);
          } else {
            targetElement.appendChild(logoContainer);
          }
          
          console.log('Logo successfully added to main page!');
        } else {
          console.log('No target element found, retrying...');
          // If no good target found, try again in a moment
          setTimeout(addLogoToMainPage, 1000);
        }
      }
      
      // Start trying to add the logo once the page loads
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', addLogoToMainPage);
      } else {
        addLogoToMainPage();
      }
      
      // Try multiple times to ensure it loads after React renders
      setTimeout(addLogoToMainPage, 1000);
      setTimeout(addLogoToMainPage, 2000);
      setTimeout(addLogoToMainPage, 3000);
      setTimeout(addLogoToMainPage, 5000);
      
      // Also try when the window loads completely
      window.addEventListener('load', addLogoToMainPage);

      // Add user account navigation
      function addUserNavigation() {
        // Look for navigation elements in the header only
        const navElements = document.querySelectorAll('a[href="/about"], a[href="/contact"], a[href="/shop"]');
        
        navElements.forEach(navElement => {
          const parent = navElement.parentElement;
          // Only add to header navigation, not other sections
          if (parent && 
              !parent.querySelector('.user-nav') && 
              (parent.closest('header') || parent.closest('nav') || parent.tagName === 'NAV')) {
            
            // Create user navigation container
            const userNav = document.createElement('div');
            userNav.className = 'user-nav';
            userNav.style.cssText = `
              display: flex;
              gap: 1.5rem;
              align-items: center;
              margin-left: auto;
              height: 100%;
            `;
            
            // Check if user is logged in
            const user = localStorage.getItem('nightkindUser');
            
            if (user) {
              // User is logged in - show account link
              const accountLink = document.createElement('a');
              accountLink.href = 'account.html';
              accountLink.textContent = 'ACCOUNT';
              accountLink.style.cssText = `
                color: hsl(60, 100%, 65%);
                text-decoration: none;
                font-family: 'Courier Prime', monospace;
                font-size: 0.9rem;
                text-transform: uppercase;
                letter-spacing: 0.1em;
                transition: all 0.3s ease;
                padding: 0.75rem 1.5rem;
                border: 1px solid hsl(60, 100%, 65%);
                border-radius: 4px;
                background: transparent;
                cursor: pointer;
                min-width: 100px;
                text-align: center;
                display: inline-block;
                margin-left: 1rem;
              `;
              accountLink.addEventListener('mouseenter', () => {
                accountLink.style.color = 'hsl(0, 0%, 9%)';
                accountLink.style.background = 'hsl(60, 100%, 65%)';
                accountLink.style.transform = 'translateY(-1px)';
                accountLink.style.boxShadow = '0 4px 8px rgba(255, 215, 0, 0.3)';
              });
              accountLink.addEventListener('mouseleave', () => {
                accountLink.style.color = 'hsl(60, 100%, 65%)';
                accountLink.style.background = 'transparent';
                accountLink.style.transform = 'translateY(0)';
                accountLink.style.boxShadow = 'none';
              });
              
              userNav.appendChild(accountLink);
            } else {
              // User is NOT logged in - show login button
              const loginLink = document.createElement('a');
              loginLink.href = 'login.html';
              loginLink.textContent = 'LOGIN';
              loginLink.style.cssText = `
                color: hsl(60, 100%, 85%);
                text-decoration: none;
                font-family: 'Courier Prime', monospace;
                font-size: 0.875rem;
                font-weight: 500;
                text-transform: uppercase;
                letter-spacing: 0.1em;
                transition: all 0.3s ease;
                padding: 0.5rem 1rem;
                border: 1px solid hsl(0, 0%, 15%);
                border-radius: 0.25rem;
                background: hsl(0, 0%, 8%);
                cursor: pointer;
                min-width: 8rem;
                text-align: center;
                display: inline-block;
                margin-left: 1rem;
                line-height: 1.25rem;
              `;
              loginLink.addEventListener('mouseenter', () => {
                loginLink.style.color = 'hsl(60, 100%, 85%)';
                loginLink.style.background = 'hsl(270, 35%, 35%)';
                loginLink.style.transform = 'translateY(-1px)';
                loginLink.style.boxShadow = '0 4px 8px rgba(0, 0, 0, 0.3)';
              });
              loginLink.addEventListener('mouseleave', () => {
                loginLink.style.color = 'hsl(60, 100%, 85%)';
                loginLink.style.background = 'hsl(0, 0%, 8%)';
                loginLink.style.transform = 'translateY(0)';
                loginLink.style.boxShadow = 'none';
              });
              
              userNav.appendChild(loginLink);
            }
            
            // Add to navigation
            parent.appendChild(userNav);
          }
        });
      }

      // Try to add user navigation
      setTimeout(addUserNavigation, 1000);
      setTimeout(addUserNavigation, 2000);
      setTimeout(addUserNavigation, 3000);
      window.addEventListener('load', addUserNavigation);

      // Add click handler for "Support Bats QLD" button
      function addBatsQLDButtonHandler() {
        const buttons = document.querySelectorAll('button, a, [class*="button"], [class*="btn"]');
        
        buttons.forEach(button => {
          const text = button.textContent || button.innerText || '';
          if (text.toLowerCase().includes('support bats qld') || 
              text.toLowerCase().includes('support bats') ||
              text.toLowerCase().includes('bats qld')) {
            
            // Check if this button already has our handler
            if (button.hasAttribute('data-bats-qld-handler')) {
              return; // Skip if already handled
            }
            
            console.log('Found Bats QLD button:', text);
            
            // Mark this button as handled
            button.setAttribute('data-bats-qld-handler', 'true');
            
            button.addEventListener('click', (e) => {
              e.preventDefault();
              e.stopPropagation();
              window.open('https://www.batsqld.org.au/sponsor-a-bat/', '_blank');
            });
            
            // Also make it look clickable
            button.style.cursor = 'pointer';
          }
        });
      }
      
      // Try to add the button handler multiple times
      setTimeout(addBatsQLDButtonHandler, 1000);
      setTimeout(addBatsQLDButtonHandler, 2000);
      setTimeout(addBatsQLDButtonHandler, 3000);
      setTimeout(addBatsQLDButtonHandler, 5000);
      
      // Also try when the window loads completely
      window.addEventListener('load', addBatsQLDButtonHandler);

      // Fix navigation links in the React app
      function fixNavigationLinks() {
        // Find all navigation links and fix them
        const links = document.querySelectorAll('a[href="/shop"], a[href="/about"], a[href="/contact"]');
        
        links.forEach(link => {
          const href = link.getAttribute('href');
          
          if (href === '/shop') {
            link.href = 'shop-categories.html';
          } else if (href === '/about') {
            link.href = 'about.html';
          } else if (href === '/contact') {
            link.href = 'contact.html';
          }
          
          // Add click handler to prevent React routing
          link.addEventListener('click', (e) => {
            e.preventDefault();
            window.location.href = link.href;
          });
        });
      }
      
      // Also redirect any shop-related buttons or links that might exist
      function redirectShopElements() {
        // Look for any shop-related elements and redirect them
        const shopElements = document.querySelectorAll('a, button, [class*="shop"], [class*="store"]');
        
        shopElements.forEach(element => {
          const text = (element.textContent || element.innerText || '').toLowerCase();
          const href = element.getAttribute('href') || '';
          
          // If it looks like a shop link but doesn't already point to our shop page
          if ((text.includes('shop') || text.includes('store') || text.includes('buy') || text.includes('merch')) && 
              !href.includes('shop-categories.html') && 
              !element.hasAttribute('data-shop-redirected')) {
            
            console.log('Redirecting shop element:', text);
            
            // Mark as redirected to prevent duplicate handling
            element.setAttribute('data-shop-redirected', 'true');
            
            // Add click handler to redirect to our shop page
            element.addEventListener('click', (e) => {
              e.preventDefault();
              e.stopPropagation();
              window.location.href = 'shop-categories.html';
            });
            
            // Make it look clickable
            element.style.cursor = 'pointer';
          }
        });
      }
      
      // Try to fix navigation links multiple times
      setTimeout(fixNavigationLinks, 1000);
      setTimeout(fixNavigationLinks, 2000);
      setTimeout(fixNavigationLinks, 3000);
      setTimeout(fixNavigationLinks, 5000);
      
      // Also try when the window loads completely
      window.addEventListener('load', fixNavigationLinks);
      
      // Try to redirect shop elements multiple times
      setTimeout(redirectShopElements, 1000);
      setTimeout(redirectShopElements, 2000);
      setTimeout(redirectShopElements, 3000);
      setTimeout(redirectShopElements, 5000);
      
      // Also try when the window loads completely
      window.addEventListener('load', redirectShopElements);

      // Add footer with privacy policy link
      function addFooter() {
        // Check if footer already exists
        if (document.querySelector('.nightkind-footer')) {
          return;
        }

        const footer = document.createElement('footer');
        footer.className = 'nightkind-footer';
        footer.style.cssText = `
          background: linear-gradient(180deg, hsl(0, 0%, 3.9%), hsl(0, 0%, 14.9%));
          border-top: 1px solid hsl(0, 0%, 14.9%);
          margin-top: 4rem;
          padding: 3rem 0 1rem;
          position: relative;
          overflow: hidden;
        `;

        // Add glowing top border
        const topBorder = document.createElement('div');
        topBorder.style.cssText = `
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 1px;
          background: linear-gradient(90deg, transparent, hsl(60, 100%, 65%), transparent);
          box-shadow: 0 0 10px hsl(60, 100%, 65%);
        `;
        footer.appendChild(topBorder);

        const footerContent = document.createElement('div');
        footerContent.style.cssText = `
          max-width: 1200px;
          margin: 0 auto;
          padding: 0 2rem;
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 2rem;
          margin-bottom: 2rem;
        `;

        // Footer sections
        const sections = [
          {
            title: 'NIGHTKIND COLLECTIVE',
            content: 'Alternative fashion with purpose. Supporting Queensland bat rescue through authentic subcultural style.'
          },
          {
            title: 'CONSERVATION',
            content: 'Every purchase directly funds wildlife rescue operations and bat conservation efforts.'
          },
          {
            title: 'COMMUNITY',
            content: 'Building a community of like-minded individuals who share our passion for alternative fashion and wildlife conservation.'
          }
        ];

        sections.forEach(section => {
          const sectionDiv = document.createElement('div');
          sectionDiv.style.cssText = 'text-align: center;';

          const title = document.createElement('h3');
          title.textContent = section.title;
          title.style.cssText = `
            color: hsl(60, 100%, 65%);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            font-family: 'Courier Prime', monospace;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            text-shadow: 0 0 10px hsla(60, 100%, 65%, 0.5);
          `;

          const content = document.createElement('p');
          content.textContent = section.content;
          content.style.cssText = `
            color: hsl(0, 0%, 63.9%);
            line-height: 1.6;
            font-size: 0.95rem;
          `;

          sectionDiv.appendChild(title);
          sectionDiv.appendChild(content);
          footerContent.appendChild(sectionDiv);
        });

        footer.appendChild(footerContent);

        // Footer bottom with privacy policy
        const footerBottom = document.createElement('div');
        footerBottom.style.cssText = `
          text-align: center;
          padding-top: 2rem;
          border-top: 1px solid hsl(0, 0%, 14.9%);
          margin: 0 2rem;
        `;

        const copyright = document.createElement('p');
        copyright.style.cssText = `
          color: hsl(0, 0%, 63.9%);
          font-size: 0.9rem;
          font-family: 'Courier Prime', monospace;
        `;

        const privacyLink = document.createElement('a');
        privacyLink.href = 'privacy.html';
        privacyLink.textContent = 'Privacy Policy';
        privacyLink.style.cssText = `
          color: hsl(60, 100%, 65%);
          text-decoration: none;
          transition: color 0.3s ease;
          margin-left: 0.5rem;
        `;
        privacyLink.addEventListener('mouseenter', () => {
          privacyLink.style.color = 'hsl(0, 0%, 98%)';
          privacyLink.style.textDecoration = 'underline';
        });
        privacyLink.addEventListener('mouseleave', () => {
          privacyLink.style.color = 'hsl(60, 100%, 65%)';
          privacyLink.style.textDecoration = 'none';
        });

        const loginLink = document.createElement('a');
        loginLink.href = 'login.html';
        loginLink.textContent = 'Login';
        loginLink.style.cssText = `
          color: hsl(60, 100%, 65%);
          text-decoration: none;
          transition: color 0.3s ease;
          margin-left: 0.5rem;
        `;
        loginLink.addEventListener('mouseenter', () => {
          loginLink.style.color = 'hsl(0, 0%, 98%)';
          loginLink.style.textDecoration = 'underline';
        });
        loginLink.addEventListener('mouseleave', () => {
          loginLink.style.color = 'hsl(60, 100%, 65%)';
          loginLink.style.textDecoration = 'none';
        });

        copyright.textContent = '© 2025 NightKind Collective. All rights reserved. | ';
        copyright.appendChild(privacyLink);
        copyright.appendChild(document.createTextNode(' | '));
        copyright.appendChild(loginLink);

        footerBottom.appendChild(copyright);
        footer.appendChild(footerBottom);

        // Add footer to page
        document.body.appendChild(footer);
      }

      // Add footer when page loads
      setTimeout(addFooter, 1000);
      setTimeout(addFooter, 2000);
      setTimeout(addFooter, 3000);
      window.addEventListener('load', addFooter);

      // Fix header floating behavior
      function fixHeaderFloating() {
        // Find all header/nav elements
        const headerElements = document.querySelectorAll('header, nav, [class*="header"], [class*="nav"]');
        
        headerElements.forEach(header => {
          if (!header.hasAttribute('data-floating-fixed')) {
            header.setAttribute('data-floating-fixed', 'true');
            
            // Apply floating styles
            header.style.cssText += `
              position: fixed !important;
              top: 0 !important;
              left: 0 !important;
              right: 0 !important;
              z-index: 1000 !important;
              background: hsla(0, 0%, 8%, 0.95) !important;
              backdrop-filter: blur(10px) !important;
              border-bottom: 1px solid hsl(0, 0%, 14.9%) !important;
              box-shadow: 0 4px 20px hsla(0, 0%, 0%, 0.3) !important;
            `;
            
            console.log('Fixed header floating behavior for:', header);
          }
        });
        
        // Also fix specific Tailwind classes
        const tailwindHeaders = document.querySelectorAll('.border-b.border-border.bg-background\\/95');
        tailwindHeaders.forEach(header => {
          if (!header.hasAttribute('data-tailwind-fixed')) {
            header.setAttribute('data-tailwind-fixed', 'true');
            
            header.style.cssText += `
              position: fixed !important;
              top: 0 !important;
              left: 0 !important;
              right: 0 !important;
              z-index: 1000 !important;
              background: hsla(0, 0%, 8%, 0.95) !important;
              backdrop-filter: blur(10px) !important;
              border-bottom: 1px solid hsl(0, 0%, 14.9%) !important;
              box-shadow: 0 4px 20px hsla(0, 0%, 0%, 0.3) !important;
            `;
            
            console.log('Fixed Tailwind header floating behavior for:', header);
          }
        });
      }

      // Try to fix header floating multiple times
      setTimeout(fixHeaderFloating, 100);
      setTimeout(fixHeaderFloating, 500);
      setTimeout(fixHeaderFloating, 1000);
      setTimeout(fixHeaderFloating, 2000);
      setTimeout(fixHeaderFloating, 3000);
      setTimeout(fixHeaderFloating, 5000);
      window.addEventListener('load', fixHeaderFloating);

            // Fix hero section login button to match OUR MISSION button
      function fixHeroLoginButton() {
        // Check if user is logged in - if so, don't show login button
        const user = localStorage.getItem('nightkindUser');
        console.log('fixHeroLoginButton called, user logged in:', !!user);
        if (user) {
          console.log('User is logged in, removing login button from hero section');
          // Remove any existing login buttons from hero section
          const existingLoginButtons = document.querySelectorAll('button, a');
          existingLoginButtons.forEach(button => {
            const text = (button.textContent || button.innerText || '').trim();
            if (text === 'LOGIN' && 
                !button.closest('header') && 
                !button.closest('nav') &&
                !button.hasAttribute('data-hero-login-fixed')) {
              button.remove();
            }
          });
          return;
        }

        // Remove any existing login buttons first to prevent duplicates
        const existingLoginButtons = document.querySelectorAll('button, a');
        existingLoginButtons.forEach(button => {
          const text = (button.textContent || button.innerText || '').trim();
          if (text === 'LOGIN' && 
              !button.closest('header') && 
              !button.closest('nav') &&
              button.hasAttribute('data-hero-login-fixed')) {
            button.remove();
          }
        });

        console.log('Creating LOGIN button in hero section...');
        
        // First, try to find the specific flex container you mentioned
        const flexContainers = document.querySelectorAll('.flex.flex-col.sm\\:flex-row.gap-4.justify-center');
        console.log('Found flex containers:', flexContainers.length);
        
        if (flexContainers.length > 0) {
          // Look for the container that has "OUR MISSION" button
          let targetContainer = null;
          let ourMissionButton = null;
          
          flexContainers.forEach((container, index) => {
            const buttons = container.querySelectorAll('button, a');
            buttons.forEach(button => {
              const text = (button.textContent || button.innerText || '').trim();
              console.log(`Container ${index}, Button: "${text}"`);
              if (text === 'OUR MISSION') {
                targetContainer = container;
                ourMissionButton = button;
              }
            });
          });
          
          if (targetContainer && ourMissionButton) {
            console.log('Found OUR MISSION button in flex container:', ourMissionButton);
            
            // Create new LOGIN button
            const loginButton = document.createElement('button');
            loginButton.textContent = 'LOGIN';
            loginButton.setAttribute('data-hero-login-fixed', 'true');
            loginButton.style.cssText = `
              color: hsl(60, 100%, 85%) !important;
              text-decoration: none !important;
              font-family: 'Courier Prime', monospace !important;
              font-size: 0.875rem !important;
              font-weight: 500 !important;
              text-transform: uppercase !important;
              letter-spacing: 0.1em !important;
              transition: all 0.3s ease !important;
              padding: 0.5rem 1rem !important;
              border: 1px solid hsl(0, 0%, 15%) !important;
              border-radius: 0.25rem !important;
              background: hsl(0, 0%, 8%) !important;
              cursor: pointer !important;
              min-width: 8rem !important;
              text-align: center !important;
              display: inline-block !important;
              margin: 0 0.5rem !important;
              line-height: 1.25rem !important;
            `;
            
            // Add hover effects
            loginButton.addEventListener('mouseenter', () => {
              loginButton.style.color = 'hsl(60, 100%, 85%) !important';
              loginButton.style.background = 'hsl(270, 35%, 35%) !important';
              loginButton.style.transform = 'translateY(-1px) !important';
              loginButton.style.boxShadow = '0 4px 8px rgba(0, 0, 0, 0.3) !important';
            });
            
            loginButton.addEventListener('mouseleave', () => {
              loginButton.style.color = 'hsl(60, 100%, 85%) !important';
              loginButton.style.background = 'hsl(0, 0%, 8%) !important';
              loginButton.style.transform = 'translateY(0) !important';
              loginButton.style.boxShadow = 'none !important';
            });
            
            // Add click handler to redirect to login page
            loginButton.addEventListener('click', (e) => {
              e.preventDefault();
              e.stopPropagation();
              window.location.href = 'login.html';
            });
            
            // Insert after OUR MISSION button in the flex container
            ourMissionButton.parentNode.insertBefore(loginButton, ourMissionButton.nextSibling);
            console.log('LOGIN button created successfully in flex container!');
            return;
          }
        }
        
        // Fallback: Look for OUR MISSION button anywhere
        const ourMissionButton = Array.from(document.querySelectorAll('button, a')).find(button => {
          const text = (button.textContent || button.innerText || '').trim();
          return text === 'OUR MISSION';
        });
        
        if (ourMissionButton) {
          console.log('Found OUR MISSION button (fallback):', ourMissionButton);
          
          // Create new LOGIN button
          const loginButton = document.createElement('button');
          loginButton.textContent = 'LOGIN';
          loginButton.setAttribute('data-hero-login-fixed', 'true');
          loginButton.style.cssText = `
            color: hsl(60, 100%, 85%) !important;
            text-decoration: none !important;
            font-family: 'Courier Prime', monospace !important;
            font-size: 0.875rem !important;
            font-weight: 500 !important;
            text-transform: uppercase !important;
            letter-spacing: 0.1em !important;
            transition: all 0.3s ease !important;
            padding: 0.5rem 1rem !important;
            border: 1px solid hsl(0, 0%, 15%) !important;
            border-radius: 0.25rem !important;
            background: hsl(0, 0%, 8%) !important;
            cursor: pointer !important;
            min-width: 8rem !important;
            text-align: center !important;
            display: inline-block !important;
            margin: 0 0.5rem !important;
            line-height: 1.25rem !important;
          `;
          
          // Add hover effects
          loginButton.addEventListener('mouseenter', () => {
            loginButton.style.color = 'hsl(60, 100%, 85%) !important';
            loginButton.style.background = 'hsl(270, 35%, 35%) !important';
            loginButton.style.transform = 'translateY(-1px) !important';
            loginButton.style.boxShadow = '0 4px 8px rgba(0, 0, 0, 0.3) !important';
          });
          
          loginButton.addEventListener('mouseleave', () => {
            loginButton.style.color = 'hsl(60, 100%, 85%) !important';
            loginButton.style.background = 'hsl(0, 0%, 8%) !important';
            loginButton.style.transform = 'translateY(0) !important';
            loginButton.style.boxShadow = 'none !important';
          });
          
          // Add click handler to redirect to login page
          loginButton.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            window.location.href = 'login.html';
          });
          
          // Insert after OUR MISSION button
          ourMissionButton.parentNode.insertBefore(loginButton, ourMissionButton.nextSibling);
          console.log('LOGIN button created successfully!');
        } else {
          console.log('OUR MISSION button not found, trying alternative approach...');
          
          // Alternative: Look for EXPLORE COLLECTION button and place LOGIN next to it
          const exploreButton = Array.from(document.querySelectorAll('button, a')).find(button => {
            const text = (button.textContent || button.innerText || '').trim();
            return text === 'EXPLORE COLLECTION';
          });
          
          if (exploreButton) {
            console.log('Found EXPLORE COLLECTION button, creating LOGIN next to it');
            
            // Create new LOGIN button
            const loginButton = document.createElement('button');
            loginButton.textContent = 'LOGIN';
            loginButton.setAttribute('data-hero-login-fixed', 'true');
            loginButton.style.cssText = `
              color: hsl(60, 100%, 85%) !important;
              text-decoration: none !important;
              font-family: 'Courier Prime', monospace !important;
              font-size: 0.875rem !important;
              font-weight: 500 !important;
              text-transform: uppercase !important;
              letter-spacing: 0.1em !important;
              transition: all 0.3s ease !important;
              padding: 0.5rem 1rem !important;
              border: 1px solid hsl(0, 0%, 15%) !important;
              border-radius: 0.25rem !important;
              background: hsl(0, 0%, 8%) !important;
              cursor: pointer !important;
              min-width: 8rem !important;
              text-align: center !important;
              display: inline-block !important;
              margin: 0 0.5rem !important;
              line-height: 1.25rem !important;
            `;
            
            // Add hover effects
            loginButton.addEventListener('mouseenter', () => {
              loginButton.style.color = 'hsl(60, 100%, 85%) !important';
              loginButton.style.background = 'hsl(270, 35%, 35%) !important';
              loginButton.style.transform = 'translateY(-1px) !important';
              loginButton.style.boxShadow = '0 4px 8px rgba(0, 0, 0, 0.3) !important';
            });
            
            loginButton.addEventListener('mouseleave', () => {
              loginButton.style.color = 'hsl(60, 100%, 85%) !important';
              loginButton.style.background = 'hsl(0, 0%, 8%) !important';
              loginButton.style.transform = 'translateY(0) !important';
              loginButton.style.boxShadow = 'none !important';
            });
            
            // Add click handler to redirect to login page
            loginButton.addEventListener('click', (e) => {
              e.preventDefault();
              e.stopPropagation();
              window.location.href = 'login.html';
            });
            
            // Insert after EXPLORE COLLECTION button
            exploreButton.parentNode.insertBefore(loginButton, exploreButton.nextSibling);
            console.log('LOGIN button created successfully next to EXPLORE COLLECTION!');
          } else {
            console.log('No suitable button found for LOGIN placement');
          }
        }
      }

      // Clean up duplicate login buttons in Quick Links section
      function cleanupDuplicateLoginButtons() {
        // Look for Quick Links section
        const quickLinksSection = document.querySelector('*:contains("QUICK LINKS")') || 
                                 document.querySelector('[class*="quick"], [class*="links"]') ||
                                 document.querySelector('footer, .footer');
        
        if (quickLinksSection) {
          // Find all LOGIN buttons in the Quick Links area
          const loginButtons = quickLinksSection.querySelectorAll('button, a');
          let loginButtonCount = 0;
          
          loginButtons.forEach(button => {
            const text = (button.textContent || button.innerText || '').trim();
            if (text === 'LOGIN') {
              loginButtonCount++;
              
              // Keep only the first LOGIN button, remove the rest
              if (loginButtonCount > 1) {
                console.log('Removing duplicate LOGIN button in Quick Links');
                button.remove();
              }
            }
          });
        }
      }

      // Add debugging function to check login state
      function debugLoginState() {
        const user = localStorage.getItem('nightkindUser');
        console.log('=== LOGIN STATE DEBUG ===');
        console.log('User logged in:', !!user);
        console.log('User data:', user);
        console.log('localStorage keys:', Object.keys(localStorage));
        console.log('========================');
      }

      // Try to fix hero login button multiple times
      setTimeout(fixHeroLoginButton, 1000);
      setTimeout(fixHeroLoginButton, 2000);
      setTimeout(fixHeroLoginButton, 3000);
      setTimeout(fixHeroLoginButton, 5000);
      window.addEventListener('load', fixHeroLoginButton);
      
      // Debug login state
      setTimeout(debugLoginState, 500);
      setTimeout(debugLoginState, 2000);
      window.addEventListener('load', debugLoginState);
      
      // Add test functions to window for debugging
      window.testLoginButton = function() {
        console.log('Testing login button visibility...');
        // Clear login state to test
        localStorage.removeItem('nightkindUser');
        console.log('Cleared login state, refreshing page...');
        setTimeout(() => {
          location.reload();
        }, 1000);
      };
      
      window.testLoggedInState = function() {
        console.log('Testing logged in state...');
        // Set fake login state
        localStorage.setItem('nightkindUser', JSON.stringify({name: 'Test User', email: 'test@example.com'}));
        console.log('Set test login state, refreshing page...');
        setTimeout(() => {
          location.reload();
        }, 1000);
      };

      // Clean up duplicate buttons
      setTimeout(cleanupDuplicateLoginButtons, 1000);
      setTimeout(cleanupDuplicateLoginButtons, 2000);
      setTimeout(cleanupDuplicateLoginButtons, 3000);
      window.addEventListener('load', cleanupDuplicateLoginButtons);
    </script>
  </body>
</html>

